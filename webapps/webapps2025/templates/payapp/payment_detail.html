{% extends "payapp/base.html" %}
{% block title %}Payment link · VyoPay{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto">
  <a href="{% url 'payapp:dashboard' %}" class="text-xs text-slate-400 hover:text-slate-200 mb-3 inline-flex items-center">
    ← Back to dashboard
  </a>

  <div class="bg-slate-900/80 border border-slate-800 rounded-2xl p-5 space-y-4">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-xl font-semibold mb-1">VyoPay link created</h1>
        <p class="text-sm text-slate-400">
          Share this link to get paid through a secure hosted checkout.
        </p>
      </div>
      <span class="px-2 py-1 rounded-full text-[11px] bg-slate-800 text-slate-200 border border-slate-700">
        {{ payment.status }}
      </span>
    </div>

    <div class="border border-slate-800 rounded-xl p-3 bg-slate-950/60">
      <p class="text-xs text-slate-400 mb-1">Amount</p>
      <p class="text-lg font-semibold">
        {{ payment.amount }} {{ payment.currency }}
      </p>
      <p class="text-xs text-slate-500 mt-1">
        {{ payment.description|default:"No description provided" }}
      </p>
      <p class="text-[11px] text-slate-500 mt-2">
        Expires: {{ payment.expires_at|default:"No expiry" }}
      </p>
    </div>

    <div>
      <label class="block text-sm text-slate-200 mb-1">Payment link</label>
      <div class="flex gap-2">
        <input
          type="text"
          readonly
          id="payment-link-input"
          class="flex-1 px-3 py-2 rounded-lg bg-slate-950 border border-slate-700 text-xs text-slate-300"
          value="{{ payment_url }}"
          onclick="this.select();"
        >
        <button
          type="button"
          onclick="navigator.clipboard.writeText(document.getElementById('payment-link-input').value)"
          class="px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-xs font-medium text-slate-100">
          Copy
        </button>
      </div>
      <p class="text-[11px] text-slate-500 mt-1">
        Send this VyoPay link via email, WhatsApp, or SMS.
      </p>
    </div>

    <div class="pt-2">
      <p class="text-xs text-slate-500">
        Link code: <span class="font-mono">{{ payment.short_code }}</span>
      </p>
      <p class="text-xs text-slate-500">
        Created at: {{ payment.created_at }}
      </p>
    </div>
  </div>
</div>
{% endblock %}
