{% extends 'base.html' %}
{% block body_class %}theme-hero{% endblock %}

{% block content %}

<!-- Full-width hero -->
<section class="home-hero fullbleed text-center">
  <div class="container">
    <span class="badge-soft">Welcome back</span>
    <h1 class="display-5 fw-bold text-gradient mt-2">Hi {{ user.username }}, ready to move money smarter?</h1>
    <p class="lead text-hero mt-2">Track balances, send payments, and see insights at a glance.</p>

    {% url 'transactions' as tx_url %} {# avoids NoReverseMatch if not defined #}
    <div class="d-flex flex-wrap gap-2 justify-content-center mt-3">
      <a href="{% url 'dashboard' %}" class="btn btn-gradient btn-lg px-4">Go to Dashboard</a>
      {% if tx_url %}<a href="{{ tx_url }}" class="btn btn-outline-light btn-lg px-4">View Transactions</a>{% endif %}
    </div>
  </div>
</section>

<!-- KPI summary card right after hero -->
<section class="container after-hero">
  <div class="glass-card shadow">
    <div class="row g-4 align-items-center">
      <div class="col-md-4">
        <span class="kpi-label">Current Balance</span>
        <div class="kpi-value">{{ account.balance|default:"0.00" }} {{ account.currency|default:"GBP" }}</div>
      </div>
      <div class="col-md-4 border-md-x">
        <span class="kpi-label">Total Transactions</span>
        <div class="kpi-value">{{ total_transactions|default:"0" }}</div>
      </div>
      <div class="col-md-4">
        <span class="kpi-label">Most Used Currency</span>
        <div class="kpi-value">{{ most_used_currency|default:"—" }}</div>
      </div>
    </div>
  </div>
</section>

<!-- Optional feature row to add breathing room before footer -->
<section class="container py-5">
  <div class="row g-4">
    <div class="col-md-4">
      <div class="feature-card">
        <div class="icon-pill bg-accent-subtle">💸</div>
        <h5 class="mt-3 mb-1">Send & Request</h5>
        <p class="text-muted mb-0">Move money securely with clear status updates and receipts.</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="feature-card">
        <div class="icon-pill bg-info-subtle">📊</div>
        <h5 class="mt-3 mb-1">Real-time Insights</h5>
        <p class="text-muted mb-0">See trends and recent activity right from your dashboard.</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="feature-card">
        <div class="icon-pill bg-warning-subtle">🛡️</div>
        <h5 class="mt-3 mb-1">Security First</h5>
        <p class="text-muted mb-0">Protected sessions, sensible limits, and account alerts.</p>
      </div>
    </div>
  </div>
</section>

{% endblock %}
